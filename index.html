<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Terminal Draw - ASCII Art Editor</title>
        <link rel="stylesheet" href="styles/main.css" />
        <link rel="stylesheet" href="styles/grid.css" />
        <link rel="stylesheet" href="styles/ui.css" />
    </head>
    <body>
        <div id="app">
            <header>
                <h1>Terminal Draw</h1>
                <!-- Toolbar will be added in Step 2 -->
                <div id="toolbar"></div>
            </header>

            <main>
                <!-- Sidebar: View controls and palette selector -->
                <aside id="sidebar">
                    <!-- Tools -->
                    <div class="sidebar-section">
                        <h3>Tools</h3>
                        <button id="tool-brush" class="active">üñåÔ∏è Brush</button>
                        <button id="tool-eraser">üßπ Eraser</button>
                        <button id="tool-picker">üíß Picker</button>
                    </div>

                    <!-- Glyph Picker -->
                    <div class="sidebar-section">
                        <h3>Character</h3>
                        <div id="glyph-picker-trigger"></div>
                    </div>

                    <!-- Layers -->
                    <div class="sidebar-section">
                        <div id="layer-panel"></div>
                    </div>

                    <!-- View Controls -->
                    <div class="sidebar-section">
                        <h3>View</h3>
                        <button id="scale-to-fit-btn" class="btn-primary">
                            Scale to Fit
                        </button>
                        <div class="scale-control">
                            <label for="scale-slider">
                                Scale: <span id="scale-value">100</span>%
                            </label>
                            <input
                                type="range"
                                id="scale-slider"
                                min="10"
                                max="1000"
                                value="100"
                                step="5"
                            />
                        </div>
                    </div>

                    <!-- Palette Selector -->
                    <div class="sidebar-section">
                        <h3>Palette</h3>
                        <select id="palette-selector">
                            <option value="default">Default Terminal</option>
                            <option value="gruvbox">Gruvbox Dark</option>
                            <option value="nord">Nord</option>
                            <option value="dracula">Dracula</option>
                            <option value="monokai">Monokai</option>
                            <option value="solarized">Solarized Dark</option>
                            <option value="tokyo-night">Tokyo Night</option>
                            <option value="catppuccin">Catppuccin Mocha</option>
                            <option value="claude">Anthropic Claude</option>
                            <option value="monet">Monet Muted</option>
                        </select>
                        <div class="palette-row">
                            <div
                                class="palette-swatch"
                                data-color="0"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="1"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="2"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="3"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="4"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="5"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="6"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch"
                                data-color="7"
                                title="Left-click: Foreground | Right-click: Background"
                            ></div>
                            <div
                                class="palette-swatch transparent"
                                data-color="-1"
                                title="Transparent (Right-click only: Background)"
                            ></div>
                        </div>
                        <div class="color-preview">
                            <span class="preview-label">Preview:</span>
                            <span class="preview-cell" id="color-preview"
                                >‚ñà</span
                            >
                        </div>
                    </div>
                </aside>

                <!-- Main Editor Area -->
                <div id="editor">
                    <div class="grid-container">
                        <!-- Background: Solid color layer -->
                        <div id="background-grid" class="background-grid"></div>

                        <!-- Hit Test: Invisible layer for mouse events -->
                        <div id="hit-test-layer" class="hit-test-layer"></div>

                        <!-- Hover Indicator: Visual feedback for hovered cell -->
                        <div id="hover-indicator" class="hover-indicator"></div>

                        <!-- Text Layers: 3 layers for drawing (bg/mid/fg) -->
                        <div
                            id="layer-bg"
                            class="visual-layer"
                            data-layer="bg"
                        ></div>
                        <div
                            id="layer-mid"
                            class="visual-layer"
                            data-layer="mid"
                        ></div>
                        <div
                            id="layer-fg"
                            class="visual-layer"
                            data-layer="fg"
                        ></div>
                    </div>
                </div>
            </main>

            <footer>
                <div id="status">Ready</div>
            </footer>
        </div>

        <script type="module" src="src/app.js"></script>
    </body>
</html>
